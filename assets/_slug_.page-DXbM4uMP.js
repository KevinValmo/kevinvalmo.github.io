import{l as h,m as p,s as $,n as v,o as A,Éµ as w,F as C,p as k,b as o,c as r,d as a,f as y,h as s,q as M,j as T,a as m,r as _,k as d,t as S,u as j,v as F,i as x,N as L,e as P,A as U,D as B,w as D,x as R,y as H,z as N,g as q,B as E,C as G,E as O,G as g,H as b,I as J}from"./index-DLcwJvLs.js";import{T as K}from"./tag-badge.component-CXfO9cN7.js";import{H as Q}from"./header.service-BL_5s8dA.js";const V=(n,t)=>t.name;function W(n,t){if(n&1&&(o(0,"a",2),m(1,"fa-icon",3),a()),n&2){const e=t.$implicit,i=_();d("href",i.encodeURI(e.url),S),s(),d("icon",e.icon)}}const c=class c{constructor(){this.encodeURI=encodeURI,this.url=h.required(),this.align=h("right"),this.isLeftAligned=p(()=>this.align()==="left"),this.isRightAligned=p(()=>this.align()==="right"),this.message=$("Check out this post! ðŸš€"),this.linkedInIcon=v,this.twitterIcon=A,this.buttons=p(()=>[{name:"LinkedIn",icon:v,url:`https://www.linkedin.com/feed/?shareActive=true?&text=${this.message()} ${this.url()}`}])}};c.Éµfac=function(e){return new(e||c)},c.Éµcmp=w({type:c,selectors:[["kvsrc-share-buttons"]],inputs:{url:[1,"url"],align:[1,"align"]},decls:5,vars:4,consts:[[1,"content-center","text-xl","font-bold","mb-2"],[1,"flex","gap-2"],["target","_blank","rel","noopener noreferrer",1,"btn",3,"href"],[3,"icon"]],template:function(e,i){e&1&&(o(0,"div",0),r(1," Fell free to share on with your friends! "),a(),o(2,"div",1),y(3,W,2,2,"a",2,V),a()),e&2&&(s(2),M("justify-start",i.isLeftAligned())("justify-end",i.isRightAligned()),s(),T(i.buttons()))},dependencies:[C,k],encapsulation:2});let f=c;/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const X={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"]};function Y(n,t){if(n&1&&m(0,"kvsrc-tag-badge",8),n&2){const e=t.$implicit;d("tag",e)}}function Z(n,t){if(n&1&&(o(0,"article")(1,"div",1)(2,"div",2),r(3),a()(),o(4,"div",3)(5,"div",4),r(6),a(),o(7,"div",5),r(8),a(),o(9,"div",6)(10,"div",7),y(11,Y,1,1,"kvsrc-tag-badge",8,q),a(),o(13,"div",9),r(14),a()(),o(15,"div",9),r(16),E(17,"date"),a()(),m(18,"div",10)(19,"analog-markdown",11)(20,"div",10)(21,"kvsrc-share-buttons",12),a()),n&2){const e=_(),i=G(0);s(),O("background-image: url('/",i.attributes.coverImage,"')"),s(2),g(" ",i.attributes.coverImageTitle||i.attributes.coverImage," "),s(3),b(i.attributes.title),s(2),b(i.attributes.description),s(3),T(i.attributes.tags.split(",")),s(3),g("ðŸ•‘ ",e.readTime(),""),s(2),g(" ",J(17,11,i.attributes.date,"mediumDate")," "),s(3),d("content",i.content),s(2),d("url",e.postUrl())("align","left")}}function tt(n,t){if(n&1&&(o(0,"div",0),m(1,"fa-icon",13),a()),n&2){const e=_();s(),d("icon",e.spinnerIcon)}}const l=class l{sanitizeContent(t){return t=t.replace(/\s+/g," ").trim(),t=t.replace(/<[^>]*>?/gm,""),t}constructor(){this.post$=j("slug"),this.spinnerIcon=X,this.post=F(this.post$),this.postUrl=p(()=>`https://kevinvalmo.github.io/blog/${this.post()?.attributes.slug}`),this.navigator=x(L),this.headerService=x(Q),this.calculatePostDescription=p(()=>{const t=this.post();if(t==null)return"";let e=t.attributes.description;const i=t.content?.toString(),u=150-e.length;if(u>0&&i!=null){const z=this.sanitizeContent(i).slice(0,u);e+=` ${z}`}return e}),this.readTime=p(()=>{const t=this.post();if(t==null)return"";const i=(t.content?.toString()).split(" ").length;return`${Math.ceil(i/150)} min read`}),P(()=>{const t=this.post();if(t==null)return;const e=this.calculatePostDescription();this.headerService.updateMetaOg({title:`${t.attributes.title} - ${e}...`,description:`${e}...`,coverImage:t.attributes.coverImage||"",url:this.postUrl()})})}};l.Éµfac=function(e){return new(e||l)},l.Éµcmp=w({type:l,selectors:[["app-blog-post"]],hostAttrs:[1,"w-full"],decls:3,vars:2,consts:[[1,"flex","justify-center","items-center","h-96"],[1,"rounded-3xl","mb-4","w-full","h-96","bg-cover","bg-center","flex","items-end","p-4","justify-end"],[1,"bg-base-100/50","backdrop-blur-sm","rounded-2xl","text-white","px-4","py-2","text-sm","font-semibold"],[1,"flex","flex-col","gap-2"],[1,"text-4xl","font-bold"],[1,"italic"],[1,"flex","gap-2","flex-wrap","justify-end"],[1,"flex","gap-2","ml-auto","mr-0","flex-wrap"],[3,"tag"],[1,"text-gray-600","italic","text-right"],[1,"divider"],[1,"prose",3,"content"],[3,"url","align"],[1,"text-4xl","animate-spin",3,"icon"]],template:function(e,i){if(e&1&&(D(0),R(1,Z,22,14,"article")(2,tt,2,1,"div",0)),e&2){const u=H(i.post());s(),N(u?1:2)}},dependencies:[U,B,K,f,C,k],encapsulation:2});let I=l;export{I as default};
